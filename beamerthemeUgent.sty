%   ___ _      ______________  __  _______
%  / _ | | /| / / __/ __/ __ \/  |/  / __/
% / __ | |/ |/ / _/_\ \/ /_/ / /|_/ / _/  
%/_/ |_|__/|__/___/___/\____/_/  /_/___/  
%										
%It's not perfect, but I think it's simple.
%What to know: 
% -put brackets around what you add.

\RequirePackage{tikz, xcolor, textpos, fontawesome, adjustbox,ulem}
\usetikzlibrary{shapes.geometric, matrix}

%Color theme
	\definecolor{UniBlue}{RGB}{30, 100, 200}
	\definecolor{UniGold}{RGB}{255,210,0} 
	%\definecolor{FacultyColor}{RGB}{74,194,182} %Bioscience engineering (unused)

%Font 
	%Arial font
	\usepackage{helvet}
	\renewcommand{\familydefault}{\sfdefault}
	\renewcommand*\ttdefault{\sfdefault}

	%Sizes 
	\setbeamerfont{title}{size=\fontsize{45}{50}} %These are chapter names that you see on a \section frame
	\setbeamerfont{frametitle}{size=\huge}

	%Colors
	\setbeamercolor{normal text}{fg=black}
	\setbeamercolor{section page}{fg=UniBlue}
	\setbeamercolor{title}{fg=white} %Chapter names
	\setbeamercolor{frametitle}{fg=UniBlue}
	\setbeamercolor{itemize item}{fg=UniBlue}
	\setbeamercolor{itemize subsubitem}{fg=UniBlue}
	\setbeamercolor{enumerate item}{fg=UniBlue}
	\setbeamercolor{item}{fg=black}

%Miscelleanous items
	%No navigation symbols
	\setbeamertemplate{navigation symbols}{} 
	%Table of contents styling
	\setbeamertemplate{section in toc}{%
		%Make a blue square instead of dots
		\hspace{.5cm}\color{UniBlue}\rule[.04cm]{5pt}{5pt}~\inserttocsection
	}
	\setbeamertemplate{subsection in toc}{%
		%Make a blue square instead of dots
		\hspace{1cm}\color{UniBlue}\rule[.04cm]{5pt}{5pt}~\inserttocsection
	}
	%Frame's title text alignment
	\setbeamertemplate{frametitle}{
		\renewcommand{\ULthickness}{1pt}
		\vspace*{.3cm}
		\uline{\insertframetitle}
	}
	%Lists' styling (I want squares)
	\setbeamertemplate{items}[square]
	%but you can make them different, e.g. diamonds
	\setbeamertemplate{itemize subitem}{\tikz{\coordinate[fill, 
		shape=diamond, color=UniBlue, minimum size=0.2cm, inner sep=0pt];}}
	%enumerates will be just numbers, without styling
	\setbeamertemplate{enumerate items}[default] 

%Custom commands for things we're gonna call
	\newcommand{\drawugentlogo}{
		\node[anchor=west] (ughentlogo) at (0.65, 0.8cm) 
			{\includegraphics[height=1.1cm]{graphics/ughent}};
	}
	\newcommand{\drawfacultylogo}{
		\node[inner sep=0pt, anchor=west] at (0.866cm, 8.3cm)
			{\includegraphics[height=.6cm]{graphics/FacultyLogo}};
	}

%TODO: make it take arguments, and automatically place evenly spaced pics 1,2,3?
\newcommand{\drawotherlogos}{
	\node[inner sep=0pt, anchor=west] at (4, 0.8cm)
		{\includegraphics[height=1.1cm]{graphics/woodlab}};

	\node[inner sep=0pt, anchor=west] at (9, 0.8cm)
		{\includegraphics[height=1.1cm]{graphics/ugct}};
}
	
%Definition of the background: mostly white, with the Ugent logo
\setbeamertemplate{background}{
	\begin{tikzpicture}
		\useasboundingbox (0,0) rectangle (\the\paperwidth,\the\paperheight);
		\drawugentlogo

		\ifnum\thepage>1\relax%
			% nothing specific on non-title pages
		\else % Title page
			\fill[UniBlue] (0.866cm, 1.62cm) rectangle(\the\paperwidth, 7.7);
			\drawfacultylogo
			\drawotherlogos
		\fi
	\end{tikzpicture}
}

% Title page (this is out of a tikz picture, so easier to put here)
\defbeamertemplate*{title page}{ugent}[1][]{
	\begin{textblock}{200}(6.5,-5.45)
		\tiny\linespread{1}\color{UniBlue}\insertinstitute
	\end{textblock}

	\renewcommand{\ULthickness}{2pt}
	\begin{textblock}{200}(0,0)
		{\color{white}\fontsize{35}{60}\selectfont
		\uline{\inserttitle}}
	\end{textblock}

	\begin{textblock}{200}(0,5)
		{\color{UniGold}\insertauthor \\ \insertdate}
	\end{textblock}
}

%Page number
\setbeamertemplate{footline}{
  \ifnum\thepage>1
    \begin{textblock*}{0.9cm}(15.1cm, -.6cm)
      {\color{UniBlue}\tiny\insertframenumber}
    \end{textblock*}
  \fi
}

%Add a special frame when at a new section
\AtBeginSection[]{ 
	\begin{frame}
		%Re-draw the background
		\begin{adjustbox}{max totalsize={\paperwidth}{\paperheight}, center}
			\begin{tikzpicture}
				\useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
				\fill[UniBlue] (0.866, 1.65) rectangle(\the\paperwidth,9.04);
			\end{tikzpicture}
		\end{adjustbox}

		%Place the chapter's title
		\renewcommand{\ULthickness}{3pt}
		\begin{textblock}{200}(0,-6.5)
			{\usebeamercolor[fg]{title}
			\usebeamerfont{title}
			\uline{\insertsectionhead}}
		\end{textblock}

	\end{frame}
}

%% Contact form at the end (watch your eyes)
\newcommand{\contacts}[5]{   
	\renewcommand{\insertframenumber}{} %no frame number
	\begin{frame}
		\begin{adjustbox}{max totalsize={\paperwidth}{\paperheight}, center} %special layout as for the \section
			\begin{tikzpicture}
				%make sure no margins
				\useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight); 
						
				\fill[UniBlue] (0.866, 1.65) rectangle(\the\paperwidth, 7.7);
		
				\drawfacultylogo

				% title page text elements
				\node[align=left, anchor=north west] at (1.2cm,7.4cm)
					{\usebeamercolor[fg]{title}\Large\insertauthor};          
		
				\node[align=left, anchor=north west,text width=14cm] at (1.2cm,6.9cm)
					{\usebeamercolor[fg]{title}\small{#1}};          
		
				\node[align=left, anchor=north west] at (1.2cm,6.1cm)
					{\usebeamercolor[fg]{title}{#2}};          
		
				%Contact details: mail, phones
				\matrix [matrix of nodes, anchor=north west,
					row sep=-.1cm, column sep = .5 cm, ampersand replacement=\&,
					text=white, font=\footnotesize,  
					column 2/.style={anchor=base west}] at (1.05cm,5.4cm) {
					E \& #3 \\ 
					T \& #4 \\ 
					M \& #5 \\ 
				};
			
				%Social media logos
				\node[align=left, anchor=north west,text width=14cm] at (7.9cm,6.1cm)
					{\usebeamercolor[fg]{title}\scriptsize\faFacebookOfficial\hspace{.2cm}Ghent University};          

				\node[align=left, anchor=north west,text width=14cm] at (7.9cm,5.7cm)
					{\usebeamercolor[fg]{title}\scriptsize\faTwitterSquare\hspace{.2cm}@ugent};          
		
				\node[align=left, anchor=north west,text width=14cm] at (7.9cm,5.3cm)
					{\usebeamercolor[fg]{title}\scriptsize\faLinkedinSquare\hspace{.2cm}Ghent University};          
				
				%url (clickable!)
				\node[align=left, anchor=north west,text width=14cm] at (1.2cm,3.5cm)
					{\usebeamercolor[fg]{title}\scriptsize\url{www.ugent.be}};          

			\end{tikzpicture}
	  \end{adjustbox}
	\end{frame}
}
